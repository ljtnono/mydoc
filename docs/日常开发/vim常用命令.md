# vim常用命令

## vim全局替换字符串

```bash
:%s/xxx/yyy/g
# 将xxx替换为yyy,其中如果xxx或者yyy中含有/需要使用\进行转义
```

## 常用操作

| 按键            | 效果                                                         |
| --------------- | ------------------------------------------------------------ |
| a,i,r,o,A,I,R,O | 进入编辑模式                                                 |
| h,backspace     | 左移动                                                       |
| l,space         | 右移动                                                       |
| j               | 下移动                                                       |
| k               | 上移动                                                       |
| 0,              | 移动到行首                                                   |
| $               | 移动到行末，`1$`表示当前行的行尾，`2$`表示当前行的下一行的行尾 |
| b               | 按照单词向前移动 字首                                        |
| e               | 按照单词向后移动 字尾                                        |
| w               | 按照单词向后移至次一个字首                                   |
| H               | 移动到屏幕最上 非空白字                                      |
| M               | 移动到屏幕中央 非空白字                                      |
| L               | 移动到屏幕最下 非空白字                                      |
| G               | 移动到文档最后一行                                           |
| gg              | 移动到文档第一行                                             |
| v               | 进入光标模式，配合移动键选中多行                             |
| Ctrl+f          | 向下翻页                                                     |
| Ctrl+b          | 向上翻页                                                     |
| u               | 撤销上一次操作                                               |
| ``              | 回到上次编辑的位置                                           |
| dw              | 删除这个单词后面的内容                                       |
| dd              | 删除光标当前行                                               |
| dG              | 删除光标后的全部文字                                         |
| d$              | 删除本行光标后面的内容                                       |
| d0              | 删除本行光标前面的内容                                       |
| y               | 复制当前行，会复制换行符                                     |
| yy              | 复制当前行的内容                                             |
| yyp             | 复制当前行到下一行，此复制不会放到剪切板中                   |
| nyy             | 复制当前开始的n行                                            |
| p,P,.           | 粘贴                                                         |
| ddp             | 当前行和下一行互换位置                                       |
| J               | 合并行                                                       |
| Ctrl+r          | 重复上一次动作                                               |
| Ctrl+z          | 暂停并退出                                                   |
| ZZ              | 保存离开                                                     |
| xp              | 交换字符后面的交换到前面                                     |
| ~               | 更换当前光标位置的大小写，并光标移动到本行右一个位置，直到无法移动 |



## 光标详细操作

| 按键   | 效果                                        |
| ------ | ------------------------------------------- |
| Ctrl+e | 向下滚动                                    |
| Ctrl+b | 向上翻页                                    |
| b      | 按照单词向前移动 字首                       |
| B      | 按照单词向前移动 字首 忽略一些标点符号      |
| e      | 按照单词向后移动 字尾                       |
| E      | 按照单词向后移动 忽略一些标点符号           |
| w      | 按照单词向后移至次一个字首                  |
| W      | 按照单词向后移至次一个字首 忽略一些标点符号 |
| H      | 移动到屏幕最上 非空白字                     |
| M      | 移动到屏幕中央 非空白字                     |
| L      | 移动到屏幕最下 非空白字                     |
| G      | 移动到文档最后一行                          |
| gg     | 移动到文档第一行                            |
| (      | 光标到句尾                                  |
| )      | 光标到局首                                  |
| {      | 光标到段落开头                              |
| }      | 光标到段落结尾                              |
| nG     | 光标下移动到n行的首位                       |
| n$     | 光标移动到n行尾部                           |
| n+     | 光标下移动n行                               |
| n-     | 光标上移动n行                               |



## 查找命令

| 指令   | 效果                                         |
| ------ | -------------------------------------------- |
| *      | 向下查找同样光标的字符                       |
| #      | 向上查找同样光标的字符                       |
| /code  | 查找 code 一样的内容，向后                   |
| ?code  | 查找 code 一样的内容，向前                   |
| n      | 查找下一处                                   |
| N      | 查找上一处                                   |
| ma     | 在光标处做一个名叫a的标记 可用26个标记 (a~z) |
| `a     | 移动到一个标记a                              |
| d`a    | 删除当前位置到标记a之间的内容                |
| :marks | 查看所有标记                                 |

## 指令模式

| 指令            | 效果                               |
| --------------- | ---------------------------------- |
| :q              | 一般退出                           |
| :q!             | 退出不保存                         |
| :wq             | 保存退出                           |
| :w filename     | 另存为 filename                    |
| :jumps          | 历史编辑文档记录                   |
| :set nu         | 设置行号显示                       |
| :set nonu       | 取消行号显示                       |
| :set            | 显示设置参数                       |
| :set autoindent | 自动缩排，回车与第一个非空格符对齐 |
| :syntax on/off  | 根据程序语法高亮显示               |
| :set highlight  | 高亮设置查看                       |
| :set hlsearch   | 查找代码高亮显示                   |
| :nohlsearch     | 暂时关闭高亮显示                   |
| :set nohlsearch | 永久关闭高亮显示                   |
| :set bg=dark    | 设置暗色调                         |
| :set bg=light   | 设置亮色调                         |

## 屏幕翻滚

| 按键   | 效果             |
| ------ | ---------------- |
| Ctrl+f | 向文件尾翻一屏幕 |
| Ctrl+b | 向文件首翻一屏幕 |
| Ctrl+d | 向文件尾翻半屏幕 |
| Ctrl+u | 向文件首翻半屏幕 |


## 插入命令

| 按键    | 效果                                         |
| ------- | -------------------------------------------- |
| i       | 在光标前                                     |
| I       | 在当前行首                                   |
| a       | 在光标后                                     |
| A       | 在当前行尾部                                 |
| o       | 在当前行下新开一行                           |
| O       | 在当前行上新开一行                           |
| r       | 替换当前字符                                 |
| R       | 替换当前行及后面的字符，直到按esc为止        |
| s       | 从当前行开始，以输入的文本替代指定数目的字符 |
| S       | 删除指定数目的行，并以输入的文本替代         |
| ncw,nCW | 修改指定数目n的字符                          |
| nCC     | 修改指定数目n的行                            |



## 删除命令

| 按键    | 效果                          |
| ------- | ----------------------------- |
| ndw,nDW | 删除光标开始及其后 n-1 个字符 |
| dw      | 删除这个单词后面的内容        |
| dd      | 删除光标当前行                |
| dG      | 删除光标后的全部文字          |
| d$      | 删除本行光标后面的内容        |
| d0      | 删除本行光标前面的内容        |
| ndd     | 删除当前行，以及其后的n-1行   |
| x       | 删除一个字符，光标后          |
| X       | 删除一个字符，光标前          |
| Ctrl+u  | 删除输入模式下的输入的文本    |

